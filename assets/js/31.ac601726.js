(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{419:function(t,s,a){"use strict";a.r(s);var n=a(52),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"vue-æºç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-æºç "}},[t._v("#")]),t._v(" VUE æºç ")]),t._v(" "),a("h3",{attrs:{id:"æ¢è®¨å†…å®¹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¢è®¨å†…å®¹"}},[t._v("#")]),t._v(" æ¢è®¨å†…å®¹")]),t._v(" "),a("ul",[a("li",[t._v("Vueæ¶æ„æ¦‚è§ˆ")]),t._v(" "),a("li",[t._v("åŒå‘æ•°æ®ç»‘å®š&SetStateåŸç†")]),t._v(" "),a("li",[t._v("Vue2 Virtual-dom")]),t._v(" "),a("li",[t._v("Vue2 DOM Diffç®—æ³•è§£æ")]),t._v(" "),a("li",[t._v("Vue2æ•´ä½“è§£ææµç¨‹")]),t._v(" "),a("li",[t._v("Vueè¿è¡Œæ—¶ä¼˜åŒ–")]),t._v(" "),a("li",[t._v("å†è§Vue~å‰ç«¯æŠ€æœ¯æ¡†æ¶é€‰å‹")])]),t._v(" "),a("h2",{attrs:{id:"æºç ç»“æ„"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æºç ç»“æ„"}},[t._v("#")]),t._v(" æºç ç»“æ„")]),t._v(" "),a("p",[t._v("æºç ä¸‹è½½åœ°å€ "),a("a",{attrs:{href:"https://github.com/vuejs/vue",target:"_blank",rel:"noopener noreferrer"}},[t._v("æºç åœ°å€"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("img",{attrs:{src:"vue_1.png",alt:"æºç ç›®å½•"}})]),t._v(" "),a("p",[t._v("é¦–å…ˆï¼Œç¬¬ä¸€å±‚ç›®å½•")]),t._v(" "),a("p",[t._v("1.benchmarks è·‘åˆ†ã€‚æµ‹è¯•æ€§èƒ½æµ‹è¯•")]),t._v(" "),a("p",[t._v("2.dist æ‰“åŒ…å‡ºçš„ä»£ç ã€‚")]),t._v(" "),a("p",[t._v("3.examples ä¾‹å­ã€‚")]),t._v(" "),a("p",[t._v("4.flow ç±»å‹è§„èŒƒã€‚ä¸€ä¸ªæ¡†æ¶")]),t._v(" "),a("p",[t._v("5.packages ç”¨lernaæ¡†æ¶åšå‡ºæ¥ï¼Œå¤šåŒ…ç®¡ç†å·¥å…·ã€‚ eg:vue SSR->vue-server-renderer->js->VM node")]),t._v(" "),a("p",[t._v("6.scripts æ‰“åŒ…è„šæœ¬ã€‚")]),t._v(" "),a("p",[t._v("7.src é€»è¾‘ä»£ç ï¼Œæ ¸å¿ƒä»£ç ã€‚")]),t._v(" "),a("p",[t._v("8.test æµ‹è¯•ã€‚")]),t._v(" "),a("p",[t._v("9.types flowå®šä¹‰çš„tsã€‚")]),t._v(" "),a("p",[t._v("åœ¨çœ‹æ ¸å¿ƒä»£ç å‰ï¼Œå…ˆåˆ†æä¸€ä¸‹distä¸­ä¸ºä»€ä¹ˆæ‰“åŒ…å‡ºæ¥å¾ˆå¤šä¸ä¸€æ ·çš„vueã€‚")]),t._v(" "),a("ul",[a("li",[t._v("Runtime only (vueè¿è¡Œæ—¶)")]),t._v(" "),a("li",[t._v("Runtime+compiler (åœ¨çº¿ç¼–è¯‘) é€šè¿‡jsç¼–è¯‘æˆwith(),withè½¬æˆjs render()")]),t._v(" "),a("li",[t._v("è¿˜æœ‰ä¸åŒè§„èŒƒ")])]),t._v(" "),a("p",[a("strong",[t._v("src æ ¸å¿ƒä»£ç ç»“æ„")])]),t._v(" "),a("p",[a("img",{attrs:{src:"vue_2.png",alt:"src"}})]),t._v(" "),a("p",[t._v("1./compiler ç›®å½•ï¼Œæ¨¡æ¿ç¼–è¯‘æ‰“åŒ…çš„è¿‡ç¨‹ï¼›(ç¦»çº¿ç¼–è¯‘) vue->jsã€‚egï¼š"),[t._v("{i}")],t._v(" //æµè§ˆå™¨ä¸è®¤è¯†ï¼Œæ‰€ä»¥è¦æŠŠç»„ä»¶ç¼–è¯‘æˆjs\nhttps://vue-template-explorer.netlify.app/")],2),t._v(" "),a("p",[t._v("2./core â½¬å½•æ˜¯ Vue.js çš„æ ¸â¼¼(ä¹Ÿæ˜¯åé¢çš„é‡ç‚¹)ï¼›")]),t._v(" "),a("p",[t._v("3./platforms â½¬å½•æ˜¯é’ˆå¯¹æ ¸â¼¼æ¨¡å—çš„ â€˜å¹³å°â€™ æ¨¡å—ï¼Œ")]),t._v(" "),a("p",[t._v("4.platforms ç›®å½•ä¸‹æœ‰ webã€ weex â½¬å½•ã€‚ web ç›®å½•ä¸‹æœ‰å¯¹åº”çš„ /compilerã€ /runtimeã€\n/serverã€ /utilç›®å½•ï¼›ï¼ˆè¿™é‡Œçš„compileræ˜¯åœ¨çº¿ç¼–è¯‘ï¼Œå¤–é¢çš„compileræ˜¯ç¦»çº¿ç¼–è¯‘ï¼‰")]),t._v(" "),a("p",[t._v("5./server ç›®å½•æ˜¯å¤„ï§¤æœåŠ¡ç«¯æ¸²æŸ“ï¼›")]),t._v(" "),a("p",[t._v("6./sfc ç›®å½•å¤„ï§¤å•â½‚ä»¶ .vueï¼›")]),t._v(" "),a("p",[t._v("7./shared ç›®å½•æä¾›å…¨å±€ç”¨åˆ°çš„å·¥å…·")]),t._v(" "),a("p",[t._v("ç»“è®ºï¼šVue.js çš„ç»„æˆæ˜¯ç”± core + å¯¹åº”çš„ â€˜å¹³å°â€™ è¡¥å……ä»£ç æ„æˆï¼ˆç‹¬ç«‹æ„å»ºå’Œè¿è¡Œæ—¶æ„å»º\nåªæ˜¯ platforms ä¸‹ web å¹³å°çš„ä¸¤ç§é€‰æ‹©ï¼‰ã€‚\n"),a("img",{attrs:{src:"vue_3.png",alt:"core"}})]),t._v(" "),a("h2",{attrs:{id:"åŒå‘æ•°æ®ç»‘å®š"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åŒå‘æ•°æ®ç»‘å®š"}},[t._v("#")]),t._v(" åŒå‘æ•°æ®ç»‘å®š")]),t._v(" "),a("p",[a("strong",[t._v("åŒå‘ç»‘å®šï¼ˆå“åº”å¼åŸç†ï¼‰æ‰€æ¶‰åŠåˆ°çš„æŠ€æœ¯")])]),t._v(" "),a("ul",[a("li",[t._v("1.Object.defineProperty")]),t._v(" "),a("li",[t._v("2.Observer")]),t._v(" "),a("li",[t._v("3.Watcher")]),t._v(" "),a("li",[t._v("4.Dep")]),t._v(" "),a("li",[t._v("5.Directive\n"),a("img",{attrs:{src:"vue_4.png",alt:"åŒå‘æ•°æ®ç»‘å®š"}})])]),t._v(" "),a("h3",{attrs:{id:"_1-object-defineproperty"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-object-defineproperty"}},[t._v("#")]),t._v(" 1.Object.defineProperty")]),t._v(" "),a("p",[a("img",{attrs:{src:"vue_5.png",alt:"defineProperty"}}),t._v(" "),a("strong",[t._v("æ€»ç»“")])]),t._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[t._v("<span"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("</span"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(" getter "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(" watcher "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(" dep(å¹¶ä¸”è¿”å›æ•°æ®æ¸²æŸ“)"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("watcher"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n                   "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(" setter "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v("dep "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("watcher"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(" <span"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("a"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("</span"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[a("img",{attrs:{src:"vue_9.png",alt:"defineProperty"}}),t._v("\nsetter è§¦å‘æ¶ˆæ¯åˆ° Watcher watcherå¸®å¿™å‘Šè¯‰ Directive æ›´æ–° DOMï¼ŒDOMä¸­ä¿®æ”¹äº†æ•°æ®ä¹Ÿä¼šé€šçŸ¥Watcherï¼Œwatcherå¸®å¿™ä¿®æ”¹æ•°æ®ã€‚")]),t._v(" "),a("h3",{attrs:{id:"_2-observer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-observer"}},[t._v("#")]),t._v(" 2.Observer")]),t._v(" "),a("p",[a("img",{attrs:{src:"vue_6.png",alt:"observer"}}),t._v(" "),a("img",{attrs:{src:"vue_7.png",alt:"observer"}}),t._v(" "),a("strong",[t._v("src/core/observer/index.js")]),t._v(" ,"),a("strong",[t._v("src/core/observer/array.js")])]),t._v(" "),a("p",[a("strong",[t._v("Observerä¸»è¦å¤„ç†è¿‡ç¨‹ï¼š")])]),t._v(" "),a("p",[t._v("Observerä¼šè§‚å¯Ÿä¸¤ç§ç±»å‹çš„æ•°æ®ï¼ŒObject ä¸ Array")]),t._v(" "),a("p",[t._v("å¯¹äºArrayç±»å‹çš„æ•°æ®ï¼Œç”±äº JavaScript çš„é™åˆ¶ï¼Œ Vue ä¸èƒ½æ£€æµ‹å˜åŒ–,ä¼šå…ˆé‡å†™æ“ä½œæ•°ç»„\nçš„åŸå‹æ–¹æ³•ï¼Œé‡å†™åèƒ½è¾¾åˆ°ä¸¤ä¸ªç›®çš„ï¼Œ")]),t._v(" "),a("p",[t._v("1.å½“æ•°ç»„å‘ç”Ÿå˜åŒ–æ—¶ï¼Œè§¦å‘ notify")]),t._v(" "),a("p",[t._v("å¦‚æœæ˜¯ pushï¼Œunshiftï¼Œsplice è¿™äº›æ·»åŠ æ–°å…ƒç´ çš„æ“ä½œï¼Œåˆ™ä¼šä½¿ç”¨observerè§‚å¯Ÿæ–°æ·»åŠ çš„\næ•°æ®")]),t._v(" "),a("p",[t._v("é‡å†™å®ŒåŸå‹æ–¹æ³•åï¼Œéå†æ‹¿åˆ°æ•°ç»„ä¸­çš„æ¯ä¸ªæ•°æ® ä½¿ç”¨observerè§‚å¯Ÿå®ƒ")]),t._v(" "),a("p",[t._v("2.è€Œå¯¹äºObjectç±»å‹çš„æ•°æ®ï¼Œåˆ™éå†å®ƒçš„æ¯ä¸ªkeyï¼Œä½¿ç”¨ defineProperty è®¾ç½® getter å’Œ\nsetterï¼Œå½“è§¦å‘getterçš„æ—¶å€™ï¼Œobserveråˆ™å¼€å§‹æ”¶é›†ä¾èµ–ï¼Œè€Œè§¦å‘setterçš„æ—¶å€™ï¼Œobserve\nåˆ™è§¦å‘notifyã€‚\n"),a("img",{attrs:{src:"vue_8.png",alt:"observer"}}),t._v(" "),a("strong",[t._v("æ€»ç»“observer")])]),t._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[t._v("observer(data) "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v(" æ˜¯å¦æ˜¯æ•°ç»„\n                 æ˜¯"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v("é‡å†™æ•°ç»„\n   \t\t\t      1.arr="),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("._proto_=ArrayMethed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n   \t\t\t\t  ArrayMethed"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v("ç»§æ‰¿äº†"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v("æ•°ç»„æ–¹æ³•ï¼ˆæ‹¦æˆª defï¼‰\n                 å¦"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v("this.walk"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v("object.key("),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(")"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("-")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(">")]),t._v("éå†æ‰€æœ‰çš„key(object.defineProperty)\n   \t\t\t  object.defineProperty(\n   \t\t\t     get"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//æŠŠå¯¹åº”çš„ä¾èµ–æ”¶é›†åˆ°ç”µè¯æœ¬Dep.push()\n   \t\t\t\t set"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),t._v("//åˆ†å‘ï¼Œè§¦å‘æ‰€æœ‰ä¾èµ– éå†Depç”µè¯æœ¬\n   \t\t\t  )\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br")])]),a("h3",{attrs:{id:"_3-watcher"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-watcher"}},[t._v("#")]),t._v(" 3.Watcher")]),t._v(" "),a("p",[a("strong",[t._v("src/core/observer/watcher.js")])]),t._v(" "),a("p",[t._v("Watcher æ˜¯å°†æ¨¡æ¿å’Œ Observer å¯¹è±¡ç»“åˆåœ¨ä¸€èµ·çš„çº½å¸¦ã€‚Watcher æ˜¯è®¢é˜…è€…æ¨¡å¼ä¸­çš„è®¢é˜…è€…ã€‚Watcher çš„ä¸¤\nä¸ªå‚æ•°ï¼š expOrFn æœ€ç»ˆä¼šè¢«è½¬æ¢ä¸º getter å‡½æ•°ï¼Œ cb æ˜¯æ›´æ–°æ—¶æ‰§è¡Œçš„å›è°ƒã€‚ä¾èµ–æ”¶é›†çš„å…¥å£å°±æ˜¯getå‡½æ•°ã€‚\n"),a("img",{attrs:{src:"vue_10.png",alt:"watcher"}}),t._v("\ngetter å‡½æ•°æ˜¯ç”¨æ¥è¿æ¥ç›‘æ§å±æ€§ä¸ Watcher çš„å…³é”®ã€‚\n"),a("img",{attrs:{src:"vue_11.png",alt:"watcher"}})]),t._v(" "),a("h3",{attrs:{id:"_4-dep"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-dep"}},[t._v("#")]),t._v(" 4.Dep")]),t._v(" "),a("p",[a("strong",[t._v("src/core/observer/dep.js")]),t._v(" "),a("img",{attrs:{src:"vue_12.png",alt:"dep"}})]),t._v(" "),a("h3",{attrs:{id:"_5-directive"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-directive"}},[t._v("#")]),t._v(" 5.Directive")]),t._v(" "),a("p",[a("img",{attrs:{src:"vue_13.png",alt:"directive"}}),t._v("\nvueå†…ç½®äº†è¿™ä¹ˆå¤šçš„æŒ‡ä»¤ï¼Œè¿™äº›æŒ‡ä»¤éƒ½ä¼šæŠ›å‡ºä¸¤ä¸ªæ¥å£bind å’Œ updateï¼Œè¿™ä¸¤ä¸ªæ¥å£çš„ä½œç”¨æ˜¯ï¼Œç¼–è¯‘çš„æœ€åä¸€æ­¥æ˜¯æ‰§è¡Œæ‰€æœ‰ç”¨åˆ°çš„æŒ‡ä»¤çš„bindæ–¹\næ³•ï¼Œè€Œ update æ–¹æ³•åˆ™æ˜¯å½“watcher è§¦å‘ update æ—¶ï¼ŒDirectiveä¼šè§¦å‘æŒ‡ä»¤çš„updateæ–¹æ³•")]),t._v(" "),a("p",[t._v("observe -> è§¦å‘setter ->")]),t._v(" "),a("p",[t._v("watcher -> è§¦å‘update ->")]),t._v(" "),a("p",[t._v("Directive -> è§¦å‘update ->")]),t._v(" "),a("p",[t._v("æŒ‡ä»¤")]),t._v(" "),a("h3",{attrs:{id:"å®è·µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å®è·µ"}},[t._v("#")]),t._v(" å®è·µ")]),t._v(" "),a("p",[t._v("æ‰‹å†™å®ç°æ•°æ®åŒå‘ç»‘å®šï¼Œ"),a("a",{attrs:{href:"https://github.com/wumao016/myVue",target:"_blank",rel:"noopener noreferrer"}},[t._v("ä»£ç åœ°å€"),a("OutboundLink")],1)]),t._v(" "),a("blockquote",[a("p",[t._v("å…¶ä»–çš„ä¸€äº›ä»£ç è§£æ")])]),t._v(" "),a("p",[a("strong",[t._v("1.vue.useçš„å®ç°")]),t._v(" "),a("strong",[t._v("src/core/global-api/use.js")]),t._v(" "),a("img",{attrs:{src:"vue_14.png",alt:"use"}})]),t._v(" "),a("h2",{attrs:{id:"vue-setstate"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue-setstate"}},[t._v("#")]),t._v(" Vue SetState")]),t._v(" "),a("p",[t._v("æ€»ç»“")]),t._v(" "),a("p",[t._v("1.Batch Update")]),t._v(" "),a("p",[t._v("2.Transactionå¯¹ä¸€ä¸ªå‡½æ•°è¿›è¡ŒåŒ…è£…ï¼Œè®©Reactæœ‰æœºä¼šåœ¨ä¸€ä¸ªå‡½æ•°æ‰§è¡Œå‰å’Œæ‰§è¡Œåè¿è¡Œç‰¹å®šçš„é€»è¾‘ï¼Œä»\nè€Œå®Œæˆå¯¹æ•´ä¸ªBatch Updateæµç¨‹çš„æ§åˆ¶ã€‚")]),t._v(" "),a("p",[t._v("ç®€å•çš„è¯´å°±æ˜¯åœ¨è¦æ‰§è¡Œçš„å‡½æ•°ä¸­ç”¨äº‹åŠ¡åŒ…è£¹èµ·æ¥ï¼Œåœ¨å‡½æ•°æ‰§è¡Œå‰åŠ å…¥initializeé˜¶æ®µï¼Œå‡½æ•°æ‰§è¡Œï¼Œæœ€å\næ‰§è¡Œcloseé˜¶æ®µã€‚é‚£ä¹ˆBatch Updateä¸­")]),t._v(" "),a("p",[t._v("åœ¨äº‹ä»¶initializeé˜¶æ®µï¼Œä¸€ä¸ªupdate queueè¢«åˆ›å»ºã€‚åœ¨äº‹ä»¶ä¸­è°ƒç”¨setStateæ–¹æ³•æ—¶ï¼ŒçŠ¶æ€ä¸ä¼šè¢«ç«‹å³è°ƒ\nç”¨ï¼Œè€Œæ˜¯è¢«pushè¿›Update queueä¸­ã€‚")]),t._v(" "),a("p",[t._v("å‡½æ•°æ‰§è¡Œç»“æŸè°ƒç”¨äº‹ä»¶çš„closeé˜¶æ®µï¼ŒUpdate queueä¼šè¢«flushï¼Œè¿™äº‹æ–°çš„çŠ¶æ€æ‰ä¼šè¢«åº”ç”¨åˆ°ç»„ä»¶ä¸Šå¹¶å¼€\nå§‹åç»­çš„Virtual DOMæ›´æ–°ï¼Œbiffç®—æ³•æ¥å¯¹modelæ›´æ–°ã€‚")]),t._v(" "),a("p",[t._v("3.å½“modelè¢«ä¿®æ”¹æ—¶ï¼Œå¯¹åº”çš„watcherä¼šè¢«æ¨å…¥Update queueï¼Œ ä¸æ­¤åŒæ—¶è¿˜ä¼šåœ¨å¼‚æ­¥é˜Ÿåˆ—ä¸­æ·»åŠ ä¸€ä¸ªtaskç”¨äºflush\nå½“å‰çš„Update queueã€‚")]),t._v(" "),a("p",[t._v("è¿™æ ·ä¸€æ¥ï¼Œå½“å‰çš„taskä¸­çš„å…¶ä»–watcherä¼šè¢«æ¨è¿›åŒä¸€ä¸ªUpdate queueä¸­ã€‚å½“å‰taskæ‰§è¡Œç»“æŸåï¼Œå¼‚æ­¥é˜Ÿåˆ—ä¸‹ä¸€ä¸ª\ntaskæ‰§è¡Œï¼Œupdate queue\nä¼šè¢« flushï¼Œå¹¶è¿›è¡Œåç»­çš„æ›´æ–°æ“ä½œã€‚\nä¸ºäº†è®© flush åŠ¨ä½œèƒ½åœ¨å½“å‰ Task ç»“æŸåå°½å¯èƒ½æ—©çš„å¼€å§‹ï¼ŒVue ä¼šä¼˜å…ˆå°è¯•å°†ä»»åŠ¡ micro-task é˜Ÿåˆ—ï¼Œå…·ä½“æ¥è¯´ï¼Œ\nåœ¨æµè§ˆå™¨ç¯å¢ƒä¸­ Vue ä¼šä¼˜\nå…ˆå°è¯•ä½¿ç”¨ MutationObserver API æˆ– Promiseï¼Œå¦‚æœä¸¤è€…éƒ½ä¸å¯ç”¨ï¼Œåˆ™ fallback åˆ° setTimeoutã€‚\nå¯¹æ¯”ä¸¤ä¸ªæ¡†æ¶å¯ä»¥å‘ç° React åŸºäº Transition å®ç°çš„ Batch Query æ˜¯ä¸€ä¸ªä¸ä¾èµ–è¯­è¨€ç‰¹æ€§çš„é€šç”¨æ¨¡å¼ï¼Œå› æ­¤æœ‰\næ›´ç¨³å®šå¯æ§çš„è¡¨ç°ï¼Œä½†ç¼ºç‚¹æ˜¯æ— æ³•å®Œå…¨è¦†ç›–æ‰€æœ‰æƒ…å†µ")]),t._v(" "),a("h2",{attrs:{id:"virtual-dom"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#virtual-dom"}},[t._v("#")]),t._v(" Virtual-dom")]),t._v(" "),a("p",[t._v("DOMæ“ä½œå¾ˆæ…¢æ˜¯ä¸¤ä¸ªåŸå› ï¼Œä¸€ä¸ªæ˜¯æœ¬èº«æ“ä½œå°±ä¸å¿«ï¼Œç¬¬\näºŒæ˜¯æˆ‘ä»¬ï¼ˆè¿˜æœ‰å¾ˆå¤šæ¡†æ¶ï¼‰å¤„ç†domçš„æ–¹å¼å¾ˆæ…¢ï¼ŒVirtual\nDomè§£å†³äº†æˆ‘ä»¬è¿™äº›æ„šè ¢çš„ç¨‹åºå‘˜å¯¹Domçš„ä½åŠ£æ“ä½œï¼Œå®ƒè®©æˆ‘\nä»¬ä¸éœ€è¦è¿›è¡ŒDomæ“ä½œï¼Œè€Œæ˜¯å°†å¸Œæœ›å±•ç°çš„æœ€ç»ˆç»“æœå‘Šè¯‰\nReact(vue)ï¼ŒReact(vue)é€šè¿‡ä¸€ä¸ªç®€åŒ–çš„Domå³Virtual domè¿›è¡Œ\nrenderï¼Œå½“ä½ è¯•å›¾æ”¹å˜æ˜¾ç¤ºå†…å®¹æ—¶ï¼Œæ–°ç”Ÿæˆçš„Virtual Domä¼š\nä¸ç°åœ¨çš„Virtual domå¯¹æ¯”ï¼Œé€šè¿‡diffç®—æ³•æ‰¾åˆ°åŒºåˆ«ï¼Œè¿™äº›æ“ä½œ\néƒ½æ˜¯åœ¨å¿«é€Ÿçš„jsä¸­å®Œæˆçš„ï¼Œæœ€åå¯¹å®é™…Domè¿›è¡Œæœ€å°çš„Domæ“\nä½œæ¥å®Œæˆæ•ˆæœï¼Œè¿™å°±æ˜¯Virtual Domçš„æ¦‚å¿µã€‚\nrective(descriptor, this, node, host, scope, frag)")]),t._v(" "),a("blockquote",[a("p",[t._v("Virtual-dom")])]),t._v(" "),a("p",[t._v("â€˜Virtual-domâ€™æ˜¯ä¸€ç³»åˆ—çš„æ¨¡å—é›†åˆï¼Œç”¨æ¥æä¾›å£°æ˜å¼çš„DOMæ¸²æŸ“ã€‚æ¥çœ‹ä¸€ä¸ªç®€å•çš„ DOM ç‰‡æ®µ.\næœ¬è´¨ä¸Šå°±æ˜¯åœ¨ JS å’Œ DOM ä¹‹é—´åšäº†ä¸€ä¸ªç¼“å­˜ã€‚å¯ä»¥ç±»æ¯” CPU å’Œç¡¬ç›˜ï¼Œæ—¢ç„¶ç¡¬ç›˜è¿™ä¹ˆæ…¢ï¼Œæˆ‘\nä»¬å°±åœ¨å®ƒä»¬ä¹‹é—´åŠ ä¸ªç¼“å­˜ï¼šæ—¢ç„¶ DOM è¿™ä¹ˆæ…¢ï¼Œæˆ‘ä»¬å°±åœ¨å®ƒä»¬ JS å’Œ DOM ä¹‹é—´åŠ ä¸ªç¼“å­˜ã€‚\nCPUï¼ˆJSï¼‰åªæ“ä½œå†…å­˜ï¼ˆVirtual DOMï¼‰ï¼Œæœ€åçš„æ—¶å€™å†æŠŠå˜æ›´å†™å…¥ç¡¬ç›˜ï¼ˆDOMï¼‰ã€‚\n"),a("img",{attrs:{src:"vue_15.png",alt:"dom"}}),t._v(" "),a("strong",[t._v("VIRTUAL-DOM->CORE/VDOM/CREATE-ELEMENT.JS")]),t._v(" "),a("img",{attrs:{src:"vue_16.png",alt:"dom"}})]),t._v(" "),a("h2",{attrs:{id:"vue2æ•´ä½“è§£ææµç¨‹"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue2æ•´ä½“è§£ææµç¨‹"}},[t._v("#")]),t._v(" Vue2æ•´ä½“è§£ææµç¨‹")]),t._v(" "),a("p",[a("img",{attrs:{src:"vue_17.png",alt:"ç”Ÿå‘½å‘¨æœŸ"}}),t._v(" "),a("img",{attrs:{src:"vue_18.png",alt:"ç”Ÿå‘½å‘¨æœŸ"}}),t._v("\n2.0 çš„ç‰ˆæœ¬ä¸­è¿™ä¸€å—æœ‰å¾ˆå¤§çš„æ”¹åŠ¨ï¼Œ1.0 çš„ç‰ˆæœ¬ä¸­ Vue ä½¿ç”¨çš„æ˜¯ DocumentFragment æ¥è¿›è¡Œæ¨¡æ¿è§£\næï¼Œè€Œ 2.0 ä¸­ä½œè€…é‡‡ç”¨çš„ John Resig çš„ HTML Parser å°†æ¨¡æ¿è§£ææˆå¯ç›´æ¥æ‰§è¡Œçš„ render å‡½æ•°ï¼Œè¿™æ˜¯\næ¨¡æ¿é¢„ç¼–è¯‘å’ŒæœåŠ¡ç«¯æ¸²æŸ“ï¼ˆSSRï¼‰çš„å‰æï¼›")]),t._v(" "),a("h2",{attrs:{id:"vueè¿è¡Œæ—¶ä¼˜åŒ–"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vueè¿è¡Œæ—¶ä¼˜åŒ–"}},[t._v("#")]),t._v(" Vueè¿è¡Œæ—¶ä¼˜åŒ–")]),t._v(" "),a("p",[a("img",{attrs:{src:"vue_19.png",alt:"ä¼˜åŒ–"}}),t._v(" "),a("img",{attrs:{src:"vue_20.png",alt:"ä¼˜åŒ–"}})]),t._v(" "),a("h2",{attrs:{id:"vue3æºç "}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue3æºç "}},[t._v("#")]),t._v(" Vue3æºç ")]),t._v(" "),a("p",[t._v("æºç åœ°å€"),a("a",{attrs:{href:"https://github.com/vuejs/vue-next",target:"_blank",rel:"noopener noreferrer"}},[t._v("æºç åœ°å€"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("strong",[t._v("åŒºåˆ«")])]),t._v(" "),a("p",[t._v("1.tempalteï¼švue2->æ­£åˆ™,   vue3->è¯æ³•åˆ†æ->è¯­æ³•åˆ†æ->AST")]),t._v(" "),a("p",[t._v("2.æ ¸å¿ƒé€»è¾‘ object.defineproperty->proxy")]),t._v(" "),a("p",[a("strong",[t._v("æå‡")])]),t._v(" "),a("p",[t._v("1.æ€§èƒ½ æ¨¡ç‰ˆè§£æçš„ä¼˜åŒ–ï¼Œç»„ä»¶ä¼˜åŒ–ï¼Œè™šæ‹Ÿdomä¼˜åŒ–")]),t._v(" "),a("p",[t._v("2.tree shaking vue2æ‰“åŒ…å‡ºæ¥ -ã€‹vue.min.js vue.runtime.min.js, vue3 -ã€‹æ•°æ®å“åº”å¤„ç†ï¼Œæ¨¡ç‰ˆè§£æå¤„ç†ï¼Œç«¯å¤„ç†ã€‚")]),t._v(" "),a("p",[t._v("3.composition API")]),t._v(" "),a("p",[t._v("4.ts proxy")]),t._v(" "),a("h3",{attrs:{id:"æ¨¡ç‰ˆè§£æ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ¨¡ç‰ˆè§£æ"}},[t._v("#")]),t._v(" æ¨¡ç‰ˆè§£æ")]),t._v(" "),a("p",[t._v("å®˜æ–¹æ¨¡ç‰ˆè§£æ"),a("a",{attrs:{href:"https://vue-next-template-explorer.netlify.app/",target:"_blank",rel:"noopener noreferrer"}},[t._v("åœ°å€"),a("OutboundLink")],1)]),t._v(" "),a("p",[a("strong",[t._v("è¯æ³•åˆ†æ")])]),t._v(" "),a("p",[t._v("é€šè¿‡ä¸€ä¸ªè§„èŒƒæŠŠæ¨¡ç‰ˆåˆ†æï¼Œ"),a("a",{attrs:{href:"https://github.com/antlr/grammars-v4",target:"_blank",rel:"noopener noreferrer"}},[t._v("è¯æ³•åˆ†æå‚è€ƒè§„åˆ™"),a("OutboundLink")],1),t._v("ï¼Œè§£ææˆtonkenï¼Œå†ç»è¿‡è¯­æ³•åˆ†æï¼Œå°±ä¼šå½¢æˆAST")]),t._v(" "),a("h3",{attrs:{id:"æ•°æ®åŒå‘å“åº”"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ•°æ®åŒå‘å“åº”"}},[t._v("#")]),t._v(" æ•°æ®åŒå‘å“åº”")]),t._v(" "),a("p",[a("strong",[t._v("proxy")])]),t._v(" "),a("p",[t._v("vue3çš„æ•°æ®åŒå‘å“åº”ç”¨çš„æ˜¯proxyï¼Œproxyè‡ªèº«æœ‰ä¸€äº›ç¼ºç‚¹ï¼š")]),t._v(" "),a("p",[t._v("1.æ•°æ®æŒªåŠ¨ å¤šæ¬¡è§¦å‘ã€‚")]),t._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[t._v("var data="),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(";\nvar p=new Proxy(data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tget(target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("receiver)"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tconsole.log('get value'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("key);\n\t\treturn Reflect.get(target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("receiver)\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\tset(target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("receiver)"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tconsole.log('set value'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("key);\n\t\treturn Reflect.set(target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("receiver)\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(")\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br")])]),a("p",[t._v("2.ä¸èƒ½æ‹¦æˆªæ·±å±‚æ¬¡çš„å¯¹è±¡æ•°æ®ï¼ˆvue3çš„å¤„ç†æ˜¯ï¼Œå¯¹äºæ·±å±‚æ¬¡åµŒå¥—çš„å¯¹è±¡ï¼Œä¸€å¼€å§‹æ²¡æœ‰é€’å½’ï¼Œæ˜¯åœ¨è·å–çš„æ—¶å€™åˆ¤æ–­æ˜¯å¦æ˜¯å¯¹è±¡ï¼Œå†å¤„ç†æˆä¸ºå“åº”å¼æ•°æ®ï¼‰ã€‚")]),t._v(" "),a("div",{staticClass:"language-yml line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-yml"}},[a("code",[t._v("var data="),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\tfoo"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tbar"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nvar p=reactive(data)\nfunction reactive(data)"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\treturn new Proxy(data"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\tget(target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("receiver)"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\tconsole.log('get value'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("key);\n\t\t\tvar res=Reflect.get(target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("receiver)\n\t\t\tif(typeof res=='object')"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\t\treturn reactive(res)\n\t\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t\t\treturn res\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n\t\tset(target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("receiver)"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t\t\tconsole.log('set value'"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("key);\n\t\t\treturn Reflect.set(target"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("key"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("value"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("receiver)\n\t\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(")\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br")])]),a("blockquote",[a("p",[t._v("vue3 packagesç›®å½•åˆ†æ")])]),t._v(" "),a("ul",[a("li",[t._v("compiler-core -ã€‹ç¼–è¯‘å™¨")]),t._v(" "),a("li",[t._v("compiler-dom -ã€‹é’ˆå¯¹æµè§ˆå™¨è€Œè¨€çš„ç¼–è¯‘å™¨")]),t._v(" "),a("li",[t._v("reactivity -ã€‹ç›¸å½“äºvue2çš„observer -ã€‹æ•°æ®å“åº”ç³»ç»Ÿ")]),t._v(" "),a("li",[t._v("runtime-core -ã€‹è¿è¡Œæ—¶")]),t._v(" "),a("li",[t._v("runtime-dom -ã€‹ä¸“é—¨é’ˆå¯¹äºæµè§ˆå™¨çš„è¿è¡Œæ—¶çš„")]),t._v(" "),a("li",[t._v("server-renderer -ã€‹æœåŠ¡ç«¯æ¸²æŸ“")])]),t._v(" "),a("p",[a("strong",[t._v("reactivity")])]),t._v(" "),a("p",[t._v("æ•°æ®å“åº”æ¶æ„\n"),a("img",{attrs:{src:"vue_21.png",alt:"æ¶æ„"}})]),t._v(" "),a("h3",{attrs:{id:"vue3ä¸vue2æ¯”è¾ƒ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vue3ä¸vue2æ¯”è¾ƒ"}},[t._v("#")]),t._v(" vue3ä¸vue2æ¯”è¾ƒ")]),t._v(" "),a("p",[a("strong",[t._v("vue2 options API")])]),t._v(" "),a("ul",[a("li",[t._v("beforeCreate")]),t._v(" "),a("li",[t._v("created")]),t._v(" "),a("li",[t._v("beforeMount")]),t._v(" "),a("li",[t._v("mounted")]),t._v(" "),a("li",[t._v("beforeUpdate")]),t._v(" "),a("li",[t._v("updated")]),t._v(" "),a("li",[t._v("beforeDestory")]),t._v(" "),a("li",[t._v("destoryed")]),t._v(" "),a("li",[t._v("errorCaptured")])]),t._v(" "),a("p",[a("strong",[t._v("vue3 composition API")])]),t._v(" "),a("ul",[a("li",[t._v("setup()")]),t._v(" "),a("li",[t._v("onBeforeMount")]),t._v(" "),a("li",[t._v("onMounted")]),t._v(" "),a("li",[t._v("onBeforeUpdate")]),t._v(" "),a("li",[t._v("onUpdated")]),t._v(" "),a("li",[t._v("onBeforeUnmount")]),t._v(" "),a("li",[t._v("onUnmounted")]),t._v(" "),a("li",[t._v("onErrorCaptured")])]),t._v(" "),a("p",[a("strong",[t._v("vue2 basic")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Vue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  el"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#app"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  template"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\n    <div>\n        <div>Count is: {{ this.count }}, double is: {{ this.double }}</div>\n        <button @click="increment">Add</button>\n    </div>\n')]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  data"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    count"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  computed"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("double")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  methods"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("increment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//htmlé‡Œç›´æ¥å¼•å…¥")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./js/setup_v2.js"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br")])]),a("p",[a("strong",[t._v("vue3 basic")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" reactive"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" computed "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" App "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  template"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token template-string"}},[a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('\n        <div>Count is: {{ state.count }}, double is: {{ state.double }}</div>\n        <button @click="increment">Add</button>\n    ')]),a("span",{pre:!0,attrs:{class:"token template-punctuation string"}},[t._v("`")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("setup")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ğŸ»"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//window")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// åˆ›å»ºå“åº”æ•°æ®")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" state "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("reactive")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      count"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      double"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("computed")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    \n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("function")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("increment")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("count"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("++")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      state"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      increment"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//htmlé‡Œ")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" createApp "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" Vue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// æœ€æ–°alphaç‰ˆæœ¬ä¸­å†™æ³•å˜äº†")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("createApp")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("App"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("mount")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"#app"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br"),a("span",{staticClass:"line-number"},[t._v("8")]),a("br"),a("span",{staticClass:"line-number"},[t._v("9")]),a("br"),a("span",{staticClass:"line-number"},[t._v("10")]),a("br"),a("span",{staticClass:"line-number"},[t._v("11")]),a("br"),a("span",{staticClass:"line-number"},[t._v("12")]),a("br"),a("span",{staticClass:"line-number"},[t._v("13")]),a("br"),a("span",{staticClass:"line-number"},[t._v("14")]),a("br"),a("span",{staticClass:"line-number"},[t._v("15")]),a("br"),a("span",{staticClass:"line-number"},[t._v("16")]),a("br"),a("span",{staticClass:"line-number"},[t._v("17")]),a("br"),a("span",{staticClass:"line-number"},[t._v("18")]),a("br"),a("span",{staticClass:"line-number"},[t._v("19")]),a("br"),a("span",{staticClass:"line-number"},[t._v("20")]),a("br"),a("span",{staticClass:"line-number"},[t._v("21")]),a("br"),a("span",{staticClass:"line-number"},[t._v("22")]),a("br"),a("span",{staticClass:"line-number"},[t._v("23")]),a("br"),a("span",{staticClass:"line-number"},[t._v("24")]),a("br"),a("span",{staticClass:"line-number"},[t._v("25")]),a("br"),a("span",{staticClass:"line-number"},[t._v("26")]),a("br"),a("span",{staticClass:"line-number"},[t._v("27")]),a("br"),a("span",{staticClass:"line-number"},[t._v("28")]),a("br"),a("span",{staticClass:"line-number"},[t._v("29")]),a("br"),a("span",{staticClass:"line-number"},[t._v("30")]),a("br"),a("span",{staticClass:"line-number"},[t._v("31")]),a("br")])]),a("p",[a("strong",[t._v("vue3 setup")])]),t._v(" "),a("ul",[a("li",[t._v("1.setupæ˜¯ä¸€ä¸ªæ–°çš„ç»„ä»¶é€‰é¡¹ï¼Œä¹Ÿæ˜¯å…¶ä»–APIçš„å…¥å£ã€‚\nä¹Ÿå°±æ˜¯è¯´ï¼Œä½ æ‰€æœ‰çš„æ“ä½œéƒ½å°†åœ¨setupå‡½æ•°å†…éƒ¨å®šä¹‰å’Œæ‰§è¡Œï¼Œ\nVue3.0ä¹Ÿå°†ç”¨å‡½æ•°ä»£æ›¿Vue2.xçš„ç±»ä¹Ÿå°±æ˜¯new Vue()")]),t._v(" "),a("li",[t._v("2.setup ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯props,è¿™é‡Œçš„propså’ŒVue2.xä¸­çš„propsä¸€è‡´ã€‚")]),t._v(" "),a("li",[t._v("3.ä½•æ—¶è°ƒç”¨ï¼Ÿsetupæ˜¯åœ¨ä¸€ä¸ªç»„ä»¶å®ä¾‹è¢«åˆ›å»ºæ—¶ï¼Œåˆå§‹åŒ–äº† props ä¹‹åè°ƒç”¨ï¼Œ\nå…¶å®å°±æ˜¯å–ä»£äº†Vue2.xçš„caretedå’ŒbeforeCreateã€‚")]),t._v(" "),a("li",[t._v("4.setupè¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡ä¸­çš„å±æ€§å°†ç›´æ¥æš´éœ²ç»™æ¨¡æ¿æ¸²æŸ“çš„ä¸Šä¸‹æ–‡ã€‚\nè€Œåœ¨Vue2.xä¸­ï¼Œä½ å®šä¹‰çš„å±æ€§éƒ½ä¼šè¢«Vueå†…éƒ¨æ— æ¡ä»¶æš´éœ²ç»™æ¨¡æ¿æ¸²æŸ“ä¸Šä¸‹æ–‡ã€‚")]),t._v(" "),a("li",[t._v("5.setupç¬¬äºŒä¸ªå‚æ•°(context)æä¾›ä¸€ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡ï¼Œè¿™ä¸ªä¸Šä¸‹æ–‡å¯¹è±¡æä¾›ä¸€ä¸ªå¯é€‰çš„å±æ€§åˆ—è¡¨ï¼Œå’ŒVue2.xä¸­æŒ‚è½½åœ¨thisä¸Šçš„å±æ€§åˆ—è¡¨ä¸€è‡´ã€‚contextå…·æœ‰ä¸this.$attrsï¼Œthis.$slotsï¼Œthis.$emitï¼Œthis.$parentï¼Œthis.$rootå¯¹åº”çš„å±æ€§ï¼ˆå±æ€§ï¼Œæ’æ§½ï¼Œemitï¼Œparentï¼Œrootï¼‰ã€‚")])]),t._v(" "),a("p",[a("code",[t._v("1.propså¯¹æ¯”Vue2.xä¸»è¦è¦æ³¨æ„çš„åœ°æ–¹ (1)Vue2.xä¸­propsç»‘å®šåœ¨thisä¸Šï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡this.props.propsNameè·å–å¯¹åº”çš„å€¼ï¼Œ Vue3.0åPropså°†å˜æˆsetupçš„ç¬¬ä¸€ä¸ªå‚æ•°,è€Œsetupä¹Ÿæ˜¯åœ¨åˆå§‹åŒ–propsä¹‹åæ‰è¢«è°ƒç”¨ã€‚æœ‰ç‚¹åƒæŸactçš„æ„Ÿè§‰ (2)ç±»å‹å®šä¹‰çš„æ—¶å€™ï¼Œä»ç„¶å¯ä»¥åƒVue2.xä¸€æ ·ï¼ŒåŒæ—¶ä¹Ÿæ”¯æŒTS (3)props å¯¹è±¡æ˜¯å“åº”å¼çš„ â€”â€” å®ƒå¯ä»¥è¢«å½“ä½œæ•°æ®æºå»è§‚æµ‹ï¼Œå½“åç»­ props å‘ç”Ÿå˜åŠ¨æ—¶å®ƒä¹Ÿä¼šè¢«æ¡†æ¶å†…éƒ¨åŒæ­¥æ›´æ–°ã€‚ ä½†å¯¹äºç”¨æˆ·ä»£ç æ¥è¯´ï¼Œå®ƒæ˜¯ä¸å¯ä¿®æ”¹çš„ï¼ˆä¼šå¯¼è‡´è­¦å‘Šï¼‰")])]),t._v(" "),a("p",[a("strong",[t._v("vue3 rective")])]),t._v(" "),a("ul",[a("li",[t._v("vue2é‡Œæ²¡æœ‰rectiveï¼Œç›¸å½“äºdate")]),t._v(" "),a("li",[t._v("vue3 æ•°æ®ç›‘å¬å‡½æ•°")]),t._v(" "),a("li",[t._v("1.reactiveå‡½æ•°æ¥æ”¶ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ï¼Œè¿”å›è¿™ä¸ªå¯¹è±¡çš„å“åº”å¼ä»£ç†ï¼Œç­‰ä»·Vue2.xçš„Vue.observable()")]),t._v(" "),a("li",[t._v("2.å¯¹æ¯”Vue2.xçš„observable()ï¼Œç»„ä»¶å®ä¾‹åœ¨åˆå§‹åŒ–çš„æ—¶å€™ä¼šå°† data æ•´ä¸ªå¯¹è±¡å˜ä¸ºå¯è§‚å¯Ÿå¯¹è±¡ï¼Œ\né€šè¿‡é€’å½’çš„æ–¹å¼ç»™æ¯ä¸ª Key ä½¿ç”¨ Object.defineProperty åŠ ä¸Š getter å’Œ settter ï¼Œ\nå¦‚æœæ˜¯æ•°ç»„å°±é‡å†™ä»£ç†æ•°ç»„å¯¹è±¡çš„ä¸ƒä¸ªæ–¹æ³•ã€‚è™½ç„¶ç»™æˆ‘ä»¬å¸¦æ¥çš„ä¾¿åˆ©ï¼Œä½†æ˜¯åœ¨å¤§å‹é¡¹ç›®ä¸Šæ¥è¯´ï¼Œæ€§èƒ½å¼€é”€å°±å¾ˆå¤§äº†ã€‚\nVue3.0ä¹‹åä¸å†å°†ä¸»åŠ¨ç›‘å¬æ‰€æœ‰çš„æ•°æ®ï¼Œè€Œæ˜¯å°†é€‰æ‹©æƒç»™ä½ ï¼Œå®ä¾‹åœ¨åˆå§‹åŒ–æ—¶ä¸éœ€è¦å†å»é€’å½’ data å¯¹è±¡äº†ï¼Œ\nä»è€Œé™ä½äº†ç»„ä»¶å®ä¾‹åŒ–çš„æ—¶é—´ã€‚")])]),t._v(" "),a("p",[a("strong",[t._v("vue3 ref")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("refæ¥æ”¶ä¸€ä¸ªåŸå§‹å€¼ï¼Œè¿”å›ä¸€ä¸ªåŒ…è£…å¯¹è±¡ï¼Œ\nåŒ…è£…å¯¹è±¡å…·æœ‰.valueå±æ€§ã€‚é€šè¿‡.valueè®¿é—®è¿™ä¸ªå€¼ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("è¢« ref æ–¹æ³•åŒ…è£¹åçš„ å…ƒç´  å°±å˜æˆäº†ä¸€ä¸ªä»£ç†å¯¹è±¡ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("ä¸€èˆ¬è€Œè¨€ï¼Œè¿™é‡Œçš„å…ƒç´ å‚æ•°æŒ‡ åŸºæœ¬å…ƒç´  æˆ–è€…ç§°ä¹‹ä¸º inner valueï¼Œ\nå¦‚ï¼šnumber, string, boolean,null,undefied ç­‰ï¼Œobject ä¸€èˆ¬ä¸ä½¿ç”¨ refï¼Œè€Œæ˜¯ä½¿ç”¨ä¸Šæ–‡çš„ reactiveã€‚\nä¹Ÿå°±æ˜¯è¯´ ref ä¸€èˆ¬é€‚ç”¨äºæŸä¸ªå…ƒç´ çš„ï¼›è€Œ reactive é€‚ç”¨äºä¸€ä¸ªå¯¹è±¡ã€‚\nref ä¹Ÿå°±ç›¸å½“äºæŠŠå•ä¸ªå…ƒç´ è½¬æ¢æˆä¸€ä¸ª reactive å¯¹è±¡äº†ï¼Œå¯¹è±¡é»˜è®¤çš„é”®å€¼åæ˜¯ï¼švalueã€‚\n"),a("strong",[t._v("ref å’Œ reactiveåŒºåˆ«")])])]),t._v(" "),a("li",[a("p",[t._v("å…¶å®refç›¸å½“äºreactiveçš„å°å¼Ÿï¼ŒrefèƒŒåä¹Ÿæ˜¯é€šè¿‡reactiveå®ç°çš„ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯refè¿”å›çš„æ˜¯åŒ…è£…å¯¹è±¡\nconst count = ref(0)  ç­‰ä»· const count = reactive({value:0})")])]),t._v(" "),a("li",[a("p",[t._v("åœ¨setupå‡½æ•°ä¸­ï¼Œå¦‚æœé€šè¿‡ç»“æ„è¿”å›refå’Œreactive,é‚£ä¹ˆåœ¨æ¨¡æ¿æ¸²æŸ“ä¸Šä¸‹æ–‡ä¸­ï¼Œè·å–ä¸åˆ°ä»–ä»¬çš„å“åº”å¼å˜åŒ–ã€‚\nå› ä¸ºè§£æ„ä»–ä»¬å°±æ„å‘³ç€copyäº†ä»–ä»¬çš„å¼•ç”¨ã€‚æ‰€ä»¥å°½é‡ä¸è¦ç”¨è§£æ„å»è¿”å›ä¸€ä¸ªä½ æœŸæœ›å“åº”å¼çš„æ•°æ®")])])]),t._v(" "),a("p",[a("strong",[t._v("vue3 computed")])]),t._v(" "),a("ul",[a("li",[t._v("3.0ä¸­ï¼Œcomputed è¢«æŠ½æˆä¸€ä¸ªAPIï¼Œç›´æ¥ä»vueä¸­è·å–ï¼Œ\nè€ŒVue2.xä¸­ï¼Œcomputedæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨å¯¹è±¡ä¸­å®šä¹‰ä¸€ä¸ªä¸ªcomputed")])]),t._v(" "),a("p",[a("strong",[t._v("vue3 watch")])]),t._v(" "),a("ul",[a("li",[a("p",[t._v("watch() API æä¾›äº†åŸºäºè§‚å¯ŸçŠ¶æ€çš„å˜åŒ–æ¥æ‰§è¡Œå‰¯ä½œç”¨çš„èƒ½åŠ›ã€‚")])]),t._v(" "),a("li",[a("p",[t._v("watch(source,cb,options?)")]),t._v(" "),a("p",[t._v("watch() æ¥æ”¶ä¸‰ä¸ªå‚æ•°")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[t._v("  1.ç¬¬ä¸€ä¸ªå‚æ•°è¢«ç§°ä½œ â€œæ•°æ®æºâ€ï¼Œå®ƒå¯ä»¥æ˜¯ï¼š\n  \n      ä¸€ä¸ªè¿”å›ä»»æ„å€¼çš„å‡½æ•°\n  \t\n      ä¸€ä¸ªåŒ…è£…å¯¹è±¡\n  \t\n      ä¸€ä¸ªåŒ…å«ä¸Šè¿°ä¸¤ç§æ•°æ®æºçš„æ•°ç»„\n  \t\n      sourceï¼šå¯ä»¥æ˜¯getterå‡½æ•°ï¼Œå€¼åŒ…è£…å™¨æˆ–åŒ…å«ä¸Šè¿°ä¸¤ç§ç±»å‹çš„æ•°ç»„ï¼ˆå¦‚æœè¦æŸ¥çœ‹å¤šä¸ªæºï¼‰\n  \t\n  2.ç¬¬äºŒä¸ªå‚æ•°æ˜¯å›è°ƒå‡½æ•°ã€‚å›è°ƒå‡½æ•°åªæœ‰å½“æ•°æ®æºå‘ç”Ÿå˜åŠ¨æ—¶æ‰ä¼šè¢«è§¦å‘ï¼š\n  \n      callbackï¼šæ˜¯ç±»ä¼¼äºVue2 watcherå¤„ç†ç¨‹åºçš„å‡½æ•°ï¼Œå¸¦æœ‰2ä¸ªå‚æ•°ï¼šnewValï¼ŒoldValã€‚\n  \t\n      æ¯ä¸ªå‚æ•°éƒ½å¯ä»¥æ˜¯ä¸€ä¸ªæ•°ç»„(ç”¨äºè§‚å¯Ÿå¤šä¸ªæº): [newVal1ï¼ŒnewVal2ï¼Œ... newValN]ï¼Œ[oldVal1ï¼ŒoldVal2ï¼Œ... oldValN]\n  \n  3.ç¬¬ä¸‰ä¸ªå¯é€‰å‚æ•°options,\n  \n      deep æ·±åº¦ç›‘å¬\n  \t\n          ç±»å‹: boolean  default :false\n          å’ŒVue2.xè¡Œä¸ºä¸€è‡´ï¼Œéƒ½æ˜¯å¯¹å¯¹è±¡çš„æ·±åº¦ç›‘å¬\n  \t\t\n      Lazy - å’ŒVue2.x immediate æ­£å¥½ç›¸å\n  \t\n          ç±»å‹:Boolean, default:false")])])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);